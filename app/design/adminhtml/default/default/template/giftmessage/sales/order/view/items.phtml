<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     default_default
 * @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */

/**
 * Sales order view items extra info template for gift message
 *
 * @see Mage_GiftMessage_Block_Adminhtml_Sales_Order_View_Items
 */
?>

<?php $_item = $this->getItem() ?>
<tr class="border">
    <td>
        <div class="action-link-holder">
            <strong><a class="action-link" href="#" id="gift_options_link_<?php echo $_item->getId() ?>" onclick="giftOptions.showItemGiftOptions(<?php echo $_item->getId() ?>); return false;"><?php echo Mage::helper('sales')->__('Gift Options') ?></a></strong>
        </div>
        <script type="text/javascript">
            giftOptionsTooltip.addTargetLink('gift_options_link_<?php echo $_item->getId() ?>', <?php echo $_item->getId() ?>);
        </script>
        <div class="gift-form" style="display:none;" id="<?php echo $this->getFieldId('edit') ?>">
            <form id="<?php echo $this->getFieldId('form') ?>" action="<?php echo $this->getSaveUrl() ?>">
                <div class="entry-edit">
                    <fieldset>
                        <input type="hidden" id="<?php echo $this->getFieldId('type') ?>" name="<?php echo $this->getFieldName('type') ?>" value="order_item" />
                        <input type="hidden" id="<?php echo $this->getFieldId('product_name') ?>" name="<?php echo $this->getFieldName('product_name') ?>" value="<?php echo $_item->getName();?>" />
                        <span class="field-row">
                            <label for="<?php echo $this->getFieldId('sender') ?>"><?php echo $this->helper('sales')->__('From Name') ?></label><br />
                            <input class="input-text" type="text" id="<?php echo $this->getFieldId('sender') ?>" name="<?php echo $this->getFieldName('sender') ?>" value="<?php echo $this->htmlEscape($this->getMessage()->getSender()) ?>" />
                        </span>
                        <span class="field-row">
                            <label for="<?php echo $this->getFieldId('recipient') ?>"><?php echo $this->helper('sales')->__('To Name') ?></label><br />
                            <input class="input-text" type="text" id="<?php echo $this->getFieldId('recipient') ?>" name="<?php echo $this->getFieldName('recipient') ?>"  value="<?php echo $this->htmlEscape($this->getMessage()->getRecipient()) ?>" />
                        </span>
                        <div class="clear"></div>
                        <span class="field-row last">
                            <label for="<?php echo $this->getFieldId('message') ?>"><?php echo $this->helper('sales')->__('Gift Message') ?></label><br />
                            <textarea id="<?php echo $this->getFieldId('message') ?>" onchange="giftMessagesController.toogleRequired('<?php echo $this->getFieldId('message') ?>', ['<?php echo $this->getFieldId('sender') ?>','<?php echo $this->getFieldId('recipient') ?>']);" name="<?php echo $this->getFieldName('message') ?>" rows="3" cols="5"><?php echo $this->htmlEscape($this->getMessage()->getMessage()) ?></textarea>
                        </span>
                    </fieldset>
                </div>
            </form>
        </div>
    </td>
    <td class="a-center"></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td class="last"></td>
</tr>
